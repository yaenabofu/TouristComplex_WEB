@model Information_System_MVC.Models.Tourist
@{
    ViewBag.Title = "Туристы";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div>
    <h3>Туристы -> Редактирование записи</h3>
    @using (Html.BeginForm("Edit", "Tourist", FormMethod.Post))
    {
        <fieldset>
            <p>Логин</p>
            <input id="Id" name="Id" value="@Model.Id" readonly />
            @Html.ValidationMessageFor(model => model.Id)
            <p>Пароль</p>
            <input id="Password" name="Password" value="@Model.Password" readonly />
            @Html.ValidationMessageFor(model => model.Password)
            <p>Имя</p>
            <input id="Name" name="Name" value="@Model.Name" required/>
            @Html.ValidationMessageFor(model => model.Name)
            <p>Фамилия</p>
            <input id="Surname" name="Surname" value="@Model.Surname" required/>
            @Html.ValidationMessageFor(model => model.Surname)
            <p>Отчество</p>
            <input id="Thirdname" name="Thirdname" value="@Model.Thirdname" required />
            @Html.ValidationMessageFor(model => model.Thirdname)
            <p>Дата рождения</p>
            <input id="DateOfBirth" name="DateOfBirth" type="date" value="@Model.DateOfBirth.ToString("yyyy-MM-dd")" required />
            @Html.ValidationMessageFor(model => model.DateOfBirth)
            <p>Эл. почта</p>
            <input id="Email" name="Email" value="@Model.Email" required/>
            @Html.ValidationMessageFor(model => model.Email)
            <p>Дата приезда</p>
            <input id="DateOfComing" name="DateOfComing" type="datetime-local" value="@Model.DateOfComing.ToString("yyyy-MM-ddThh:mm")" readonly />
            @Html.ValidationMessageFor(model => model.DateOfComing)
            <p>Дата отъезда</p>
            <input id="DateOfLeaving" name="DateOfLeaving" type="datetime-local" value="@Model.DateOfLeaving.ToString("yyyy-MM-ddThh:mm")" required/>
            @Html.ValidationMessageFor(model => model.DateOfLeaving)
            <p>Страна</p>
            <input id="Country" name="Country" value="@Model.Country" required/>
            @Html.ValidationMessageFor(model => model.Country)
            <p>Номер комнаты</p>
            <select id="RoomId" name="RoomId" value="">
                @{
                    foreach (var item in ViewBag.PassingValue)
                    {
                        if (item.IsAvailable)
                        {
                            <option style="background-color: green" value="@item.Id">[№ @item.Id] Цена @item.Price,  Комнат @item.SingleRooms, Кроватей @item.Beds, Код здания @item.BuildingId</option>
                        }
                        else
                        {
                            if (item.Id == Model.RoomId)
                            {
                                <option selected style="background-color: brown" value="@item.Id">[№ @item.Id] Цена @item.Price,  Комнат @item.SingleRooms, Кроватей @item.Beds, Код здания @item.BuildingId</option>
                            }
                            else
                            {
                                <option style="background-color: brown" value="@item.Id">[№ @item.Id] Цена @item.Price,  Комнат @item.SingleRooms, Кроватей @item.Beds, Код здания @item.BuildingId</option>
                            }
                        }

                    }
                }
            </select>
            @Html.ValidationMessageFor(model => model.RoomId)
            <br /><br />
            <input type="submit" value="Изменить" />
        </fieldset>
    }
</div>
